<!-- Button trigger modal 1 -->
<h4>Usuario</h4>
<p>
  <ngb-alert #staticAlert [type]="alert.type" show="false" [dismissible]="false">{{ alert.message }}</ngb-alert>
</p>
<a class="btn btn-primary add-button" data-toggle="modal" data-target="#exampleModal">
  <fa-icon [icon]="faPlus"></fa-icon>Agregar usuario
</a>
<table class="table">
    <thead>
      <tr>
        <th scope="col">Usuario</th>
        <th scope="col">Nombre completo</th>
        <th scope="col">Operaciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let usuario of usuarios">
        <td>{{usuario.usuario}}</td>
        <td>{{usuario.nombre_completo}}</td>
        <td>
            
            <a class="btn btn-primary operation-button" data-toggle="modal" data-target="#exampleModal2" (click)="getUsuario(usuario.id)"><fa-icon [icon]="faEdit"></fa-icon></a>
            <a class="btn btn-danger operation-button" data-toggle="modal" (click)="deleteUsuario(usuario.id)"><fa-icon [icon]="faTrash"></fa-icon></a>
            <!--<a class="btn btn-success operation-button" data-toggle="modal" (click)="inactivateUsuario(usuario)"><i class="fas fa-eye"></i></a>-->
        </td>
      </tr>
    </tbody>
</table>


<!-- Modal 1 -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form>
          <div class="form-group">
              <input type="text" [(ngModel)]="usuario.usuario" name="usuario" class="form-control" placeholder="Usuario">
          </div>
          <div class="form-group">
              <input type="password" [(ngModel)]="usuario.password" name="password" class="form-control" placeholder="Contraseña">
          </div>
          <div class="form-group">
            <input type="text" [(ngModel)]="usuario.nombre_completo" name="nombre_completo" class="form-control" placeholder="Nombre completo">
          </div>
          <div class="form-group">
            <input type="text" [(ngModel)]="usuario.phone" name="phone" class="form-control" placeholder="Teléfono">
          </div>
          <div class="form-group">
            <input type="text" [(ngModel)]="usuario.address" name="address" class="form-control" placeholder="Dirección">
          </div>
          <div class="form-group">
            <select type="number" class="form-control" [(ngModel)]="selectedCiudad" (ngModelChange)="toNumberCiudad()" name="ciudad">
                <option *ngFor="let ciudad of ciudades" [ngValue]="ciudad.id">{{ciudad.ciudad}}</option>
            </select>
          </div>
          <button type="submit" class="btn btn-primary" (click)="saveUsuario(selectedCiudad)" data-dismiss="modal">Agregar</button>
      </form>
      </div>
    </div>
  </div>
</div>

<!-- Modal 2 -->
<div class="modal fade" id="exampleModal2" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel2" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel2">Modal title</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form>
          <div class="form-group">
            <input type="text" [(ngModel)]="usuario.usuario" name="usuario" class="form-control" placeholder="Usuario">
        </div>
        <div class="form-group">
            <input type="password" [(ngModel)]="usuario.password" name="password" class="form-control" placeholder="Contraseña">
        </div>
        <div class="form-group">
          <input type="text" [(ngModel)]="usuario.nombre_completo" name="nombre_completo" class="form-control" placeholder="Nombre completo">
        </div>
        <div class="form-group">
          <input type="text" [(ngModel)]="usuario.phone" name="phone" class="form-control" placeholder="Teléfono">
        </div>
        <div class="form-group">
          <input type="text" [(ngModel)]="usuario.address" name="address" class="form-control" placeholder="Dirección">
        </div>
        <div class="form-group">
          <select type="number" class="form-control" [(ngModel)]="selectedCiudad" (ngModelChange)="toNumberCiudad()" name="ciudad">
              <option *ngFor="let ciudad of ciudades" [ngValue]="ciudad.id">{{ciudad.ciudad}}</option>
          </select>
        </div>
         <button type="submit" class="btn btn-primary" (click)="updateUsuario(selectedCiudad)" data-dismiss="modal">Guardar cambios</button>
      </form>
      </div>
    </div>
  </div>
</div>